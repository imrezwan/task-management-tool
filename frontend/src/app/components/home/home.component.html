<div class="container">
    <div class="toolbar-container">
        <div class="toolbar-left">
            <button mat-button type="button" label="Task Mangement Tool" style="font-weight: bold; font-size: 1.25rem;">Task Mangement Tool</button>
            <button mat-raised-button (click)="createBoard()" color="primary" type="button" style="margin-left:.25em">Create Board</button>
        </div>
        <div class="toolbar-right">
            <button mat-raised-button color="warn" type="button" style="margin-left:.25em">Logout</button>
        </div>
    </div>

    <div cdkDropListGroup class="board-container">
        <div 
            class="listitem-container"
            *ngFor="let listitem of boardData.listItems; index as listIndex"
            >
            <p><b>{{listitem.name}}</b></p>
            <div
                cdkDropList
                [cdkDropListData]="listitem"
                (cdkDropListDropped)="drop($event)"
                class="allcard-container"
                >
                <div 
                    cdkDrag
                    class="carditem-container"
                    *ngFor="let carditem of listitem.cardItems"
                    >
                    <div>{{carditem.name}}</div>
                </div>

            </div>
                
            <button 
                (click)="openAddCardDialog(listIndex)" 
                *ngIf="addCardBtnVisibility[listIndex]" 
                mat-stroked-button color="primary" type="button">
                Add a card
            </button>
            <div *ngIf="!addCardBtnVisibility[listIndex]" class="add-card-dialog">
                <input type="text" [(ngModel)]="cardValue" /> 
                <div class="card-add-input-option-section">
                    <button
                        (click)="addNewCard(listIndex)"
                        mat-flat-button
                        class="add-card-button"
                        type="button">
                        Add card
                    </button>

                    <button 
                        (click)="toggleCardButtonVisibility(listIndex)"
                        mat-icon-button 
                        color="warn"
                        aria-label="Cancel button"
                        class="cross-btn">
                        <mat-icon>close</mat-icon>
                    </button>
                    
                </div>
            </div>
    
    
        </div>

        <!-- New List Add -->
        <div class="add-new-list-container">
            <button 
            (click)="openAddListDialog()" 
            *ngIf="addListBtnVisibility"
            class="add-a-list-btn" 
            mat-stroked-button color="primary" type="button">
            Add a List
            </button>
            <div *ngIf="!addListBtnVisibility" class="list-card-dialog">
                <input type="text" [(ngModel)]="listValue" /> 
                <div class="list-add-input-option-section">
                    <button
                        (click)="addNewList()"
                        mat-flat-button
                        class="list-card-button"
                        type="button">
                        Add List
                    </button>

                    <button 
                        (click)="toggleListButtonVisibility()"
                        mat-icon-button 
                        color="warn"
                        aria-label="Cancel button"
                        class="cross-btn">
                        <mat-icon>close</mat-icon>
                    </button>
                    
                </div>
            </div>
        </div>
    </div>
</div>